# クエリ履歴

クエリ履歴は、過去に実行したクエリの一覧を確認し、再利用するための機能です。
実行結果の成功/失敗、実行時間、取得行数などの統計情報も確認できます。

## 基本的な使い方

### 履歴の確認

1. サイドバーから **History** をクリックします
2. 過去に実行したクエリが新しい順に表示されます

### 履歴一覧の表示内容

各履歴エントリには以下の情報が表示されます:

| 項目 | 説明 |
|------|------|
| **ステータスアイコン** | ✅ 成功 / ❌ エラー |
| **クエリテキスト** | 実行した SQL クエリ |
| **実行日時** | クエリを実行した日時 |
| **実行時間** | クエリの実行にかかった時間 |
| **取得行数** | 結果として返された行数 |
| **エラーメッセージ** | エラー時のみ表示 |

### クエリの再利用

履歴からクエリをクエリエディタに読み込んで再実行できます。

1. 再利用したいクエリの **Use** ボタンをクリックします
2. クエリエディタが開き、クエリが自動入力されます
3. 必要に応じて修正し、実行します

## 状態表示

### ローディング状態

データ読み込み中はスケルトンローダーが表示されます。

### エラー状態

読み込みに失敗した場合:
- エラーメッセージが表示されます
- **Retry** ボタンで再読み込みできます

### 空の状態

履歴がない場合:
- 「No query history」メッセージが表示されます
- **Go to Query Editor** ボタンでクエリエディタに移動できます

## ベストプラクティス

### 履歴の活用

1. **過去のクエリの再利用**: 同じようなクエリを実行する場合、履歴から素早くアクセス
2. **エラーの確認**: 失敗したクエリのエラーメッセージを確認して修正
3. **パフォーマンス分析**: 実行時間を確認してクエリの最適化の参考に

### 履歴に残らないケース

- 構文エラーでサーバーに送信されなかったクエリ
- ネットワークエラーで送信が失敗したクエリ

## 関連ドキュメント

- [クエリエディタ](./query-editor.md) - クエリの作成と実行
- [保存クエリ](./saved-queries.md) - よく使うクエリの保存
